<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <script src="http://d3js.org/d3.v4.min.js"></script>
    <script src="http://d3js.org/queue.v1.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>

    <script src="https://rawgithub.com/markmarkoh/datamaps/master/dist/datamaps.none.min.js"></script>
<script src="https://datamaps.github.io/scripts/0.4.0/datamaps.world.min.js?v=1"></script>
            <script src="http://d3js.org/d3.geo.projection.v0.min.js"></script>
</head>
<body>
<div id="map"></div>

<script>
window.onload = function() {
    var jsonEurope = "https://raw.githubusercontent.com/xandravos/project/master/code/eu.topojson"
    var dataRen = "https://raw.githubusercontent.com/xandravos/project/master/code/data.json"

    var requests = [d3.json(jsonEurope), d3.json(dataRen)];

    Promise.all(requests).then(function(response) {
        var data = response[0]
  var width = 300;
  var height = 400;
  var center = [5, 70];
  var scale = 300;
  var projection = d3.geoMercator()
                 .scale(scale)
                 .translate([width / 2, 0])
                 .center(center);

 var path = d3.geoPath()
           .projection(projection);

  var svg = d3.select("#map")
          .append("svg")
          .attr("height", height)
          .attr("width", width);

  var countries = svg.append("g");

    d3.selectAll('.country')
    .data(topojson.feature(data, data.objects.europe).features)
    .enter()
    .append('path')
    .attr('class', 'country')
    .attr('d', path);
    return;

}).catch(function(e){
    throw(e);
});
};
</script>
</body>
</html>
